<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Paneli</title>
  <link rel="stylesheet" href="../admin/admin.css">
  <script defer src="../admin/admin.js"></script>
</head>
<body>

  <!-- Ãœst Bar -->
  <div class="admin-header">
    <div class="header-left">EtkinlikPlatformu</div>
    <span class="admin-badge">Admin</span>
    <div class="header-right">
  <a href="#" id="logoutLink" class="logout-button">Ã‡Ä±kÄ±ÅŸ Yap</a>
</div>

  </div>

  <!-- Ana Alan -->
  <div class="admin-container">
    
    <!-- Sol MenÃ¼ -->
    <aside class="admin-sidebar">
  <nav>
    <ul>
      <li><a href="#istatistikler"      data-target="istatistikler">ğŸ“Š Ä°statistikler</a></li>
      <li><a href="#biletturleri"       data-target="biletturleri">ğŸ’µ Bilet TÃ¼rleri</a></li>
      <li><a href="#kullanicilar"       data-target="kullanicilar">ğŸ‘¥ KullanÄ±cÄ±lar</a></li>
      <li><a href="#duyuruekle"         data-target="duyuruekle">ğŸ“¢ Duyuru Ekle</a></li>
      <li><a href="#etkinliklistesi"    data-target="etkinliklistesi">ğŸ“ Etkinlik </a></li>
      <li><a href="#sehirraporu"        data-target="sehirraporu">ğŸŒ Åehir Raporu</a></li>
      <li><a href="#kategoriyonetimi"   data-target="kategoriyonetimi">ğŸ“‚ Kategori YÃ¶netimi</a></li>
      <li><a href="#ayarlar"            data-target="ayarlar">âš™ï¸ Ayarlar</a></li>
    </ul>
  </nav>
</aside>


    <!-- SaÄŸ Ä°Ã§erik -->
    <main class="admin-main">

      <!-- Ä°statistikler -->
      <section id="istatistikler" class="dashboard">
        <div class="card"><h3>Toplam Etkinlik</h3><p id="totalEvents">0</p></div>
        <div class="card"><h3>SatÄ±lan Bilet</h3><p id="soldTickets">0</p></div>
        <div class="card"><h3>BugÃ¼nkÃ¼ Etkinlikler</h3><p id="dailyEvents">0</p></div>
        <div class="card"><h3>PopÃ¼ler Åehir</h3><p id="topCity">-</p></div>
      </section>
      <!--KullanÄ±cÄ±lar-->
      <section id="kullanicilar">
  <h2>KullanÄ±cÄ±lar</h2>
  <table id="usersTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>Ad Soyad</th>
        <th>E-posta</th>
        <th>Durum</th>
        <th>Ä°ÅŸlem</th>
      </tr>
    </thead>
    <tbody>
      <!-- JS burayÄ± dolduracak -->
    </tbody>
  </table>
</section>

      <!-- Duyuru -->
      <section id="duyuruekle" class="announcements">
        <h2>Duyuru YayÄ±nla</h2>
        <form id="announcementForm">
          <input type="text" id="announcementTitle" placeholder="BaÅŸlÄ±k" required />
          <textarea id="announcementContent" placeholder="AÃ§Ä±klama" required></textarea>
          <button type="submit">Duyuru Ekle</button>
        </form>
        <ul id="announcementList"></ul>
      </section>

      <!-- Etkinlik Listesi -->
      <section id="etkinliklistesi" class="events">
        <div class="event-header">
          <h2>Etkinlikler</h2>
          <button id="openAddEventModal">+ Yeni Etkinlik</button>
        </div>
        <input type="text" id="searchInput" placeholder="Etkinlik, ÅŸehir veya kategori ara..." />
        <table id="eventTable">
          <thead>
            <tr>
              <th>BaÅŸlÄ±k</th>
              <th>Åehir</th>
              <th>Kategori</th>
              <th>Tarih</th>
              <th>Ä°ÅŸlem</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

    </main>
  </div>

  <!-- Modal Penceresi -->
  <div class="modal" id="eventModal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2 id="modalTitle">Etkinlik Ekle</h2>
      <form id="eventForm">
        <input type="hidden" id="eventId" />
        <input type="text" id="title" placeholder="BaÅŸlÄ±k" required />
        <input type="text" id="category" placeholder="Kategori" />
        <input type="text" id="city" placeholder="Åehir" />
        <input type="text" id="venue" placeholder="Mekan" />
        <input type="date" id="date" />
        <input type="time" id="time" required />
        <input type="number" id="price" placeholder="Fiyat" />
        <input type="text" id="imageUrl" placeholder="GÃ¶rsel URL" />
        <input type="text" id="seatImageUrl" placeholder="Oturma PlanÄ± URL" />
        <button type="submit">Kaydet</button>
      </form>
    </div>
  </div>
<script>
  const currentUser = JSON.parse(localStorage.getItem("currentUser") || "{}");

  if (!currentUser || !currentUser.isAdmin) {
    alert("Bu sayfaya eriÅŸim yetkiniz yok.");
    window.location.href = "../login.html";
  }
</script>

</body>
</html>
